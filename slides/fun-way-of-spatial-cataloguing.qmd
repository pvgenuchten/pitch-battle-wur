---
title: A fun way to do spatial cataloguing 
subtitle: data discovery using pygeometa and mdme
author: Paul van Genuchten, Tom Kralidis
date: 2024-07-03
format:
  revealjs:
    incremental: true
    theme: sky
    logo: ./img/logo-foss4g-tartu.png
    footer: "2024 FOSS4G-Europe, Tartu, Estonia"
---

# About us

- Paul van Genuchten, SDI specialist at `ISRIC - World Soil Information`, the Netherlands
- Tom Kralidis, board member at OSGeo, WMO data scientist at ECCC, Canada

# What if...

::: {.r-stack}
![](./img/fun-md/browse.png){.fragment width="800" }

![](./img/fun-md/edit.png){.fragment width="800"}

![](./img/fun-md/history.png){.fragment width="800" }
:::


# Intro to pygeometa

- mcf is a format endorsed by the [pygeometa](https://geopython.github.io/pygeometa/) library
- A yaml encoded model, inspired by ISO19115
- pygeometa converts from and to various metadata models

# From MCF to publication in a catalogue

- MCF is converted to iso19115 using pygeometa and then loaded on a catalogue
- pycsw is a standards based catalogue component 
- pycsw supports OGC API Records, various metadata models, faceted search 

## Flow chart
```{mermaid}
flowchart LR
    P[Project folder] -->|Files| CI{{crawler}}
    CI -->|Extract metadata| P
    CI --> G[Git] 
    G --> PYCSW
```


# Colleagues like MCF?

- Some expect shiny webforms, like linked-in, facebook
- Not used to YAML syntax and git CI-CD workflows
- That's  where the MDME initiative came up

# MDME, web editor for MCF

![mdme](./img/fun-md/mdme.png){width="800" }

[osgeo.github.io/mdme](https://osgeo.github.io/mdme)

# Tech colleagues like MCF?

- YAML is an optimal format for GIT versioning 
- Git offers a fully traceable catalogue
- File based metadata is easy to update with `search-and-replace` 

# 2 use cases

We'll present 2 use cases, to show the use of this approach

- Land Soil Crop Hubs
- WMO Information System (WIS2)

# Land Soil Crop hubs

- An EU funded research project to improve data sharing in the Land Soil Crop domain in East Africa
- Share resources which are relevant to agriculture in East Africa

## Participatory metadata management

- Users initially provided metadata as lists in excel
- Metadata is hosted in Github, users contribute content (or register issues)

## Metadata as a source for Mapserver configuration

- Metadata is used to generate map configuration 
- The mapserver endpoint is added to the metadata
- Mapserver is fully aligned with the catalogue

## TerriaJS, a webbased GIS

- The project uses TerriaJS as a data viewer
- TerriaJS includes a Catalogue search as CSW and can link back to the catalogue via wms capabilities

## TerriaJS

![TerriaJS](./img/fun-md/terria.png){width="800" }

# WMO Information System (WIS2)

- Set of tools adopted by regional weather offices to build up a global system

# Take aways

- MCF is an interesting metadata format for local file repositories
- Git and CI-CD workflows offer a traceable, participatory approach for metadata management
- OGCAPI records (in for example pycsw) offers a clean machine and human friendly interface to metadata

# Read more

- [pygeometa](https://github.com/geopython/pygeometa)
- [pycsw.org](https://pycsw.org) v3.0b
- [pyGeoDataCrawler](https://pypi.org/project/geodatacrawler/) v1.3
- [OGCAPI - Records](https://ogcapi.org/#records) v1.0
- [mapserver.org](https://mapserver.org) v8.2

